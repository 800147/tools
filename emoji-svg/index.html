<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Emoji.svg â€” web tools from 800147.github.io</title>
    <link rel="icon" type="image/svg+xml" href="../img/favicon.svg" />
    <link rel="icon" type="image/png" href="../img/favicon.png" />
    <meta name="description" content="SVG image showing single emoji" />
    <meta name="color-scheme" content="light dark" />
    <link
      rel="stylesheet"
      href="https://800147.github.io/document/src/document.css"
    />
    <script type="module">
      // https://highlightjs.org/usage/
      import hljs from "https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.7.0/build/es/highlight.min.js";
      hljs.highlightAll();
      window.hljs = hljs;
    </script>
    <style>
      .PickerDialog {
        background-color: transparent;
        border: none;
      }
    </style>
  </head>
  <body class="Document">
    <nav class="Document-Breadcrumbs">
      <ul>
        <li><a href="../../">800147.github.io</a></li>
        <li><a href="../">tools</a></li>
      </ul>
    </nav>
    <main>
      <h1>Emoji.svg</h1>
      <h2>About</h2>
      <p>
        This is a template that lets you make an svg out of emoji. You may want
        to use emoji where image is needed but emoji is not an image â€” it is
        text. This template will help you to make image out of emoji.
      </p>
      <h2>Guide</h2>
      <h3>The code</h3>
      <pre><code id="the-code" class="language-svg">&lt;svg viewBox='-9 -14.5 18 18' xmlns='http://www.w3.org/2000/svg'>
  &lt;text text-anchor='middle'>ðŸ˜€&lt;/text>
&lt;/svg></code></pre>
      <h3>The result</h3>
      <p>
        The resulting image looks exactly the same as the source emoji because
        it uses text node with emoji inside. It also means that the image may
        look different on different systems or even be broken on systems that
        doesn't support given emoji so be careful with this.
      </p>
      <figure>
        <img
          id="img"
          width="120"
          height="120"
          src="data:image/svg+xml,&lt;svg viewBox='-9 -14.5 18 18' xmlns='http://www.w3.org/2000/svg'>&lt;text text-anchor='middle'>%F0%9F%98%80&lt;/text>&lt;/svg>"
        />
      </figure>
      <figure>
        <a
          id="download-link"
          class="Document-Button"
          href="data:image/svg+xml,&lt;svg viewBox='-9 -14.5 18 18' xmlns='http://www.w3.org/2000/svg'>&lt;text text-anchor='middle'>%F0%9F%98%80&lt;/text>&lt;/svg>"
          download="ðŸ˜€.svg"
        >download ðŸ˜€.svg</a>
      </figure>
      <h3>Data-url</h3>
      <p>
        You can use data-url to use an image without saving it on a file
        system. Here is the example of using an emoji as web page favicon:
      </p>
      <pre><code id="data-url-code" class="language-html">&lt;link
  rel="icon"
  type="image/svg+xml"
  href="data:image/svg+xml,&amp;lt;svg viewBox='-9 -14.5 18 18' xmlns='http://www.w3.org/2000/svg'>&amp;lt;text text-anchor='middle'>ðŸ˜€&amp;lt;/text>&amp;lt;/svg>"
></code></pre>
      <p>
        The code above may not work properly in some browsers (yet?). I use it
        for stuff that I make for myself so I am sure that it wouldn't cause
        any problems.
      </p>

      <section id="another-emoji-section" style="display: none">
        <h3>Select other emoji</h3>
        <p id="another-emoji-paragraph">
          In this whole article we used the "ðŸ˜€" symbol as an emoji example. You
          can specify another one using the button below:
        </p>
        <figure>
          <button id="another-emoji-button">another emoji</button>
          <figcaption>
            <a href="https://github.com/missive/emoji-mart" target="_blank"
              >Emoji-mart</a
            >
            is used as an emoji picker
          </figcaption>
        </figure>
        <dialog id="another-emoji-dialog" class="PickerDialog"></dialog>
      </section>
    </main>
    <!-- Cloudflare Web Analytics -->
    <script
      defer
      src="https://static.cloudflareinsights.com/beacon.min.js"
      data-cf-beacon='{"token": "01ed86e7ec1e4311aca302985f6ebcab"}'
    ></script>
    <!-- End Cloudflare Web Analytics -->
    <script src="https://cdn.jsdelivr.net/npm/emoji-mart@latest/dist/browser.js"></script>
    <script>
      const replaces = [
        { id: "the-code", prop: "textContent" },
        { id: "img", prop: "src" },
        { id: "data-url-code", prop: "textContent" },
        { id: "another-emoji-paragraph", prop: "textContent" },
        { id: "download-link", prop: "textContent" },
        { id: "download-link", prop: "href" },
        { id: "download-link", prop: "download" },
      ];
      replaces.forEach((replace) => {
        const { id, prop } = replace;
        replace.wrap = document.getElementById(id)[prop].split("ðŸ˜€");
        if (replace.wrap.length < 2) {
          replace.wrap = document
            .getElementById(id)
            [prop].split("%F0%9F%98%80");
        }
      });

      const setEmoji = (emoji) => {
        replaces.forEach(({ id, prop, wrap: [before, after] }) => {
          document.getElementById(id)[prop] = `${before}${emoji}${after}`;
        });

        window.hljs?.highlightAll();
      };

      document.getElementById("another-emoji-dialog").appendChild(
        new EmojiMart.Picker({
          onEmojiSelect: ({ native }) => {
            setEmoji(native);
            document.getElementById("another-emoji-dialog").close();
          },
          onClickOutside: () =>
            document.getElementById("another-emoji-dialog").close(),
        })
      );

      document.getElementById("another-emoji-button").onclick = () =>
        setTimeout(
          () => document.getElementById("another-emoji-dialog").showModal(),
          0
        );

      document.getElementById("another-emoji-section").style = "";
    </script>
  </body>
</html>
